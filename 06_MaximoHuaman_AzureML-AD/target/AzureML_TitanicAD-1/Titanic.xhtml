<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body >
        <p:growl showDetail="true" id="msg"/>
        <center>
            <h1> Árbol de Decisión tipo Clasificación - Titanic </h1>
            <div style="width: 95%; margin-left: auto; margin-right: auto;" >
                <h:form id="predicion">
                    <p:panelGrid>
                        <p:row>
                            <p:column colspan="2" style="font-weight: bold; color: orangered">
                                <p:outputLabel value="¿Cuál es tu edad?  (6 - 96)"/>
                            </p:column>
                            <!--<p:column rowspan="17" style="font-weight: bold;">  </p:column>-->
                            <p:column colspan="2" style="font-weight: bold; color: orangered;">
                                <p:outputLabel value="¿En que nivel del barco se escuentra? (1 - 2- 3)"/>                
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:spinner id="age" value="#{titanicC.titanic.edad}" min="6" max="96" />
                            </p:column>                    
                            <p:column>
                                <p:slider for="age"  step="1" minValue="6" maxValue="96" style="width: 220px"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="glu" value="#{titanicC.titanic.nclase}" size="38"/>
                            </p:column> 
                            <p:column>
                                <p:slider for="glu" step="1" minValue="1" maxValue="3" style="width: 220px"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <br/>
                    <p:commandButton value="Ver Resultados" actionListener="#{titanicC.obtenerDatos()}"
                                     update=":predicion :msg :dialog" oncomplete="PF('predice').show();"/>
                </h:form>

                <p:dialog widgetVar="predice" id="dialog" modal="true" width="600" header="Consumo del Modelo ML con Azure">
                    <p:panelGrid>
                        <p:row>
                            <p:column colspan="3">
                                <h3>Resultados de predicción</h3>
                            </p:column>                        
                        </p:row>                    

                        <p:row>
                            <p:column colspan="2">
                                <p:outputLabel value="#{titanicC.titanic.result}"/>
                            </p:column>
                            <p:column rowspan="2">
                                <img src="https://todobi.com/content/images/2020/06/Nub8-Machine-Learning-With-Azure-2.jpg" border="0" width="200" height="200"/>
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column>
                                <p:outputLabel value="Probabilidad"/>    
                            </p:column>
                            <p:column>
                                <p:outputLabel value="#{titanicC.titanic.probability}"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:dialog>
            </div>
        </center>
    </h:body>
</html>


